(()=>{"use strict";const t=["H","S","D","C"],o=["2","3","4","5","6","7","8","9","10","J","Q","K"],n=["♥️","️♠️","♦️","♣️"],i=t=>t.length>0&&t.shift(),s=o=>n[t.indexOf(o)];document.getElementById("draw").addEventListener("click",(function(){d.state="up";const t=Object.keys(d.bottom).find((t=>d.bottom[t].position>5));t?document.getElementById("winner").textContent=`WINNER IS ${t.toUpperCase()}!`:function(t){const o=document.getElementById("current-card"),n={suite:"",rank:t.replace(/[HSDC]/,""),name:"",currentPosition:0,previousPosition:0};t.includes("H")?(n.suite=s("H"),n.currentPosition=d.bottom.hearts.position,n.name="hearts"):t.includes("S")?(n.suite=s("S"),n.currentPosition=d.bottom.spades.position,n.name="spades"):t.includes("D")?(n.suite=s("D"),n.currentPosition=d.bottom.diamonds.position,n.name="diamonds"):t.includes("C")&&(n.suite=s("C"),n.currentPosition=d.bottom.clubs.position,n.name="clubs"),o.textContent=`${n.rank} ${n.suite}`,n.previousPosition=n.currentPosition-1,function(t){const o=document.getElementById(`${t.name}-${t.currentPosition}`),n=document.getElementById(`${t.name}-${t.previousPosition}`);o.textContent=`A${t.suite}`,n.textContent=""}(n)}(((t,o)=>{const n=i(o);return n.includes("H")?t.bottom.hearts.position++:n.includes("S")?t.bottom.spades.position++:n.includes("D")?t.bottom.diamonds.position++:n.includes("C")&&t.bottom.clubs.position++,(t=>{for(let o=1;o<5;o++){const n=t.side.find((t=>t.position===o));if(!n.shown&&Object.values(t.bottom).every((t=>t.position>=o))){n.shown=!0,n.card.includes("H")&&t.bottom.hearts.position?t.bottom.hearts.position--:n.card.includes("S")&&t.bottom.spades.position?t.bottom.spades.position--:n.card.includes("D")&&t.bottom.diamonds.position?t.bottom.diamonds.position--:n.card.includes("C")&&t.bottom.clubs.position&&t.bottom.clubs.position--,t.state="down";const i=document.getElementById(`side-${o}`),e=n.card.split("").map((t=>Number.isInteger(Number.parseInt(t))?t:s(t))).join("");i.textContent=`${e}`}}})(t),n})(d,e))}));const e=t.flatMap((t=>o.map((o=>`${o}${t}`)))).map((t=>({card:t,id:Math.random()}))).sort(((t,o)=>t.id-o.id)).map((({card:t})=>t)),d={bottom:{hearts:{position:0},spades:{position:0},diamonds:{position:0},clubs:{position:0}},side:[{position:1,card:"",shown:!1},{position:2,card:"",shown:!1},{position:3,card:"",shown:!1},{position:4,card:"",shown:!1},{position:5,card:"",shown:!1}],state:"up"};((t,o)=>{t.side.forEach((t=>t.card=i(o)))})(d,e)})();